html { scroll-behavior: smooth; }
body { background-color: #000; overflow-x: hidden; }

/* Сетка Masonry */
.grid-container { width: 100%; margin: 0 auto; }
.grid-item { 
  width: calc(50% - 10px); 
  margin-bottom: 20px;
  background: #050505;
}
@media (min-width: 768px) { .grid-item { width: calc(33.333% - 14px); } }
@media (min-width: 1024px) { .grid-item { width: calc(25% - 15px); } }

.grid-item.loading { aspect-ratio: 4/5; }
.grid-item img { 
  width: 100%; height: auto; display: block; 
  opacity: 0; transition: opacity 0.6s ease; cursor: zoom-in;
}
.grid-item img.loaded { opacity: 0.6; }
.grid-item img.loaded:hover { opacity: 1; }

/* Базовый стиль всех круглых кнопок */
.ui-button, .floating-ui {
  width: 44px; height: 44px;
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 50%;
  color: white;
  display: flex; align-items: center; justify-content: center;
  transition: all 0.4s ease;
  cursor: pointer;
  z-index: 160;
}

.ui-button:hover, .floating-ui:hover {
  background: rgba(255, 255, 255, 0.15);
  border-color: rgba(255, 255, 255, 0.3);
}

/* Позиционирование плавающих элементов */
.floating-ui { position: fixed; bottom: 30px; }
.left-ui { left: 30px; opacity: 0; pointer-events: none; }
.right-ui { right: 30px; opacity: 0; visibility: hidden; }
.right-ui.visible { opacity: 1; visibility: visible; }

/* Лоадер */
#transparent_circle { color: transparent; }
.progress-ring__circle { 
  transition: stroke-dashoffset 0.3s linear; 
  transform: rotate(-90deg); transform-origin: 50% 50%; 
}

/* Кнопки закрытия */
.folder-close { position: relative; flex-shrink: 0; }
.lightbox-close { position: fixed; top: 30px; right: 30px; z-index: 210; }

/* Лайтбокс */
#lightbox {
  display: none; position: fixed; inset: 0; z-index: 200;
  background: rgba(0,0,0,0.95); backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  cursor: zoom-out; align-items: center; justify-content: center;
}
#lightbox.active { display: flex; }
#lightbox img { max-width: 95%; max-height: 95%; object-fit: contain; }

@media (max-width: 768px) {
  .lightbox-close { top: 20px; right: 20px; }
  .ui-button, .floating-ui { width: 40px; height: 40px; }
}

/* Анимации */
.reveal { opacity: 0; transform: translateY(30px); transition: all 1s cubic-bezier(0.2, 1, 0.3, 1); }
.reveal.active { opacity: 1; transform: translateY(0); }

::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-track { background: #000; }
::-webkit-scrollbar-thumb { background: #18181b; }