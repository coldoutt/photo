<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <title>coldout — photo archive</title>
  <style>
    html { scroll-behavior: smooth; }
    body { background-color: #000; overflow-x: hidden; }
    section { scroll-margin-top: 100px; }
    
    /* Плавное появление контента */
    .reveal {
      opacity: 0;
      transform: translateY(50px);
      transition: all 1.2s cubic-bezier(0.2, 1, 0.3, 1);
      will-change: transform, opacity;
    }
    .reveal.active { opacity: 1; transform: translateY(0); }

    .delay-child { transition-delay: 0.2s; }

    /* Masonry сетка */
    .masonry-grid { column-count: 2; column-gap: 0.75rem; }
    @media (min-width: 768px) { .masonry-grid { column-count: 3; } }
    @media (min-width: 1024px) { .masonry-grid { column-count: 4; } }
    .masonry-item { break-inside: avoid; margin-bottom: 0.75rem; background: #0a0a0a; }

    /* Lightbox с размытием */
    #lightbox {
      display: none;
      position: fixed;
      inset: 0;
      z-index: 200;
      background: rgba(0,0,0,0.9);
      backdrop-filter: blur(20px);
      cursor: zoom-out;
      opacity: 0;
      transition: opacity 0.4s ease;
    }
    #lightbox.active { display: flex; opacity: 1; }
    #lightbox img { 
      max-width: 90%; max-height: 90%; object-fit: contain; 
      transform: scale(0.98); transition: transform 0.5s cubic-bezier(0.2, 1, 0.3, 1);
    }
    #lightbox.active img { transform: scale(1); }

    /* Кнопка Вверх */
    #back-to-top { opacity: 0; visibility: hidden; transition: all 0.4s ease; }
    #back-to-top.visible { opacity: 1; visibility: visible; }

    ::-webkit-scrollbar { width: 4px; }
    ::-webkit-scrollbar-track { background: #000; }
    ::-webkit-scrollbar-thumb { background: #18181b; }
  </style>
</head>
<body class="text-zinc-400 font-sans selection:bg-zinc-800">

  <nav class="fixed top-0 left-0 w-full px-6 py-4 md:px-10 flex flex-row justify-between items-center z-50 bg-black/60 backdrop-blur-md border-b border-white/5">
    <div class="text-white tracking-[0.2em] lowercase font-light text-sm md:text-base cursor-pointer" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">coldout</div>
    <div class="flex items-center space-x-4 md:space-x-6 text-[10px] tracking-[0.1em] lowercase font-light overflow-x-auto">
      <a href="#2026" class="hover:text-white transition-colors">2026</a>
      <a href="#2025" class="hover:text-white transition-colors">2025</a>
      <a href="#2024" class="hover:text-white transition-colors">2024</a>
      <a href="#2023" class="hover:text-white transition-colors">2023</a>
      <a href="#2022" class="hover:text-white transition-colors">2022</a>
      <a href="#2021" class="hover:text-white transition-colors">2021</a>
      <a href="#2020" class="hover:text-white transition-colors">2020</a>
    </div>
  </nav>

  <div id="lightbox" class="items-center justify-center" onclick="closeLightbox()">
    <img id="lightbox-img" src="" alt="">
  </div>

  <div id="gallery-overlay" class="hidden fixed inset-0 bg-black z-[100] overflow-y-auto p-6 md:p-20">
    <div class="flex justify-between items-baseline mb-16 max-w-[1600px] mx-auto">
      <h2 id="gallery-title" class="text-white text-3xl font-thin lowercase tracking-tighter"></h2>
      <button onclick="closeGallery()" class="text-zinc-600 hover:text-white uppercase text-[9px] tracking-[0.3em] transition-colors border-b border-zinc-800 hover:border-white pb-1">close</button>
    </div>
    
    <div id="gallery-grid" class="masonry-grid max-w-[1600px] mx-auto pb-20"></div>

    <button id="back-to-top" onclick="galleryScrollTop()" class="fixed bottom-10 right-10 w-16 h-16 rounded-full border border-white/10 bg-black/50 backdrop-blur-md flex items-center justify-center text-white hover:border-white/40 transition-all z-[110]">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.2"><path d="M18 15l-6-6-6 6"/></svg>
    </button>
  </div>

  <main id="main-content" class="pt-24 px-6 md:px-20 max-w-[1600px] mx-auto">
    <div id="years-container"></div>
  </main>

  <footer class="p-20 text-center border-t border-zinc-950">
    <div class="text-[9px] lowercase tracking-[0.5em] text-zinc-800">coldout &copy; 2026</div>
  </footer>

  <script>
    const archiveData = [
      { year: "2026", trips: [{ title: "lofoten islands", img: "https://images.unsplash.com/photo-1534067783941-51c9c239ecfd" }, { title: "swiss alps", img: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4" }]},
      { year: "2025", trips: [{ title: "atacama desert", img: "https://images.unsplash.com/photo-1444464666168-49d633b867ad" }, { title: "madeira coast", img: "https://images.unsplash.com/photo-1555881400-74d7acaacd8b" }]},
      { year: "2024", trips: [{ title: "kyoto gardens", img: "https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e" }, { title: "tokyo nights", img: "https://images.unsplash.com/photo-1542051841857-5f90071e7989" }]},
      { year: "2023", trips: [{ title: "dolomites", img: "https://images.unsplash.com/photo-1531366930499-41f667534ae2" }, { title: "icelandic fog", img: "https://images.unsplash.com/photo-1504893524553-f8591ce26c58" }]},
      { year: "2022", trips: [{ title: "namibia dunes", img: "https://images.unsplash.com/photo-1509316975850-ff9c5deb0cd9" }, { title: "patagonia peaks", img: "https://images.unsplash.com/photo-1517154421773-0529f29ea451" }]},
      { year: "2021", trips: [{ title: "highlands", img: "https://images.unsplash.com/photo-1506744038136-46273834b3fb" }, { title: "nordic cabin", img: "https://images.unsplash.com/photo-1441974231531-c6227db76b6e" }]},
      { year: "2020", trips: [{ title: "venice", img: "https://images.unsplash.com/photo-1523906834658-6e24ef2386f9" }, { title: "quiet lakes", img: "https://images.unsplash.com/photo-1501785888041-af3ef285b470" }]}
    ];

    function init() {
      const container = document.getElementById('years-container');
      archiveData.forEach(item => {
        const section = document.createElement('section');
        section.id = item.year;
        section.className = 'mb-24';
        section.innerHTML = `
          <div class="border-b border-zinc-900 pb-2 mb-10 reveal">
            <h2 class="text-5xl md:text-6xl font-extralight text-white tracking-tighter">${item.year}</h2>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
            ${item.trips.map(trip => `
              <div onclick="openGallery('${trip.title}')" class="group cursor-pointer reveal delay-child">
                <div class="aspect-[4/5] bg-zinc-900 overflow-hidden mb-4 relative">
                  <img src="${trip.img}?q=80&w=800" class="object-cover w-full h-full grayscale group-hover:grayscale-0 transition-all duration-1000">
                </div>
                <h3 class="text-[10px] lowercase tracking-[0.2em] text-zinc-600 group-hover:text-white transition-colors duration-500 italic">${trip.title} — archive</h3>
              </div>
            `).join('')}
          </div>
        `;
        container.appendChild(section);
      });

      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) entry.target.classList.add('active');
        });
      }, { threshold: 0.1 });

      document.querySelectorAll('.reveal').forEach(el => observer.observe(el));
    }

    const galleryOverlay = document.getElementById('gallery-overlay');
    const btnUp = document.getElementById('back-to-top');
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightbox-img');

    galleryOverlay.addEventListener('scroll', () => {
      btnUp.classList.toggle('visible', galleryOverlay.scrollTop > 800);
    });

    function galleryScrollTop() { galleryOverlay.scrollTo({ top: 0, behavior: 'smooth' }); }

    function openGallery(title) {
      const grid = document.getElementById('gallery-grid');
      document.getElementById('gallery-title').innerText = title;
      grid.innerHTML = '';
      const ratios = [0.7, 1, 1.3, 0.8, 1.5];

      for (let i = 1; i <= 50; i++) {
        const item = document.createElement('div');
        item.className = 'masonry-item overflow-hidden';
        const ratio = ratios[Math.floor(Math.random() * ratios.length)];
        const paddingBottom = (1 / ratio) * 100;

        const wrapper = document.createElement('div');
        wrapper.className = 'relative w-full bg-zinc-900/50';
        wrapper.style.paddingBottom = `${paddingBottom}%`;

        const src = `https://picsum.photos/seed/${title + i}/1200/${Math.round(1200/ratio)}`;
        const img = document.createElement('img');
        img.src = src;
        img.className = 'absolute top-0 left-0 w-full h-full opacity-0 transition-all duration-1000 cursor-zoom-in';
        img.style.objectFit = 'cover';

        img.onload = function() {
          this.classList.replace('opacity-0', 'opacity-60');
          this.classList.add('hover:opacity-100');
        };

        img.onclick = () => openLightbox(src);

        wrapper.appendChild(img);
        item.appendChild(wrapper);
        grid.appendChild(item);
      }
      galleryOverlay.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }

    function closeGallery() { galleryOverlay.classList.add('hidden'); document.body.style.overflow = 'auto'; }
    function openLightbox(src) { lightboxImg.src = src; lightbox.classList.add('active'); }
    function closeLightbox() { lightbox.classList.remove('active'); }

    window.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        if (lightbox.classList.contains('active')) closeLightbox();
        else if (!galleryOverlay.classList.contains('hidden')) closeGallery();
      }
    });

    init();
  </script>
</body>
</html>
